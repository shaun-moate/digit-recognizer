schema: '2.0'
stages:
  data_processing:
    cmd: python -m src.stages.data_processing -c "params.yaml"
    deps:
    - path: data/raw
      hash: md5
      md5: 8daaa1f9a8ca03fe219dc2b3f5882ff5.dir
      size: 128134246
      nfiles: 3
    - path: src/stages/data_processing.py
      hash: md5
      md5: 68facb3322b46ade6b3eec3162895deb
      size: 2918
    params:
      params.yaml:
        base:
          project: digit_recognisation
          raw_data_dir: data/raw/
          processed_data_dir: data/processed/
          random_seed: 13
        data_processing:
          split: 0.1
    outs:
    - path: data/processed/test_processed.pt
      hash: md5
      md5: 90c0a529d6f622e33802cd55bac868cf
      size: 87808768
    - path: data/processed/train_x_processed.pt
      hash: md5
      md5: 851e129b0d03c52477df36873dc663b1
      size: 118541577
    - path: data/processed/train_y_processed.pt
      hash: md5
      md5: 486b3dfaf9d8ae44140c445b449ab2a3
      size: 303177
    - path: data/processed/valid_x_processed.pt
      hash: md5
      md5: d0cd99039a2faa398d6cb5d5214d09bf
      size: 13171977
    - path: data/processed/valid_y_processed.pt
      hash: md5
      md5: 606b246fc6aa77b668afd2553c3ccd76
      size: 34377
  train:
    cmd: python -m src.stages.train -c "params.yaml"
    deps:
    - path: data/processed/train_x_processed.pt
      hash: md5
      md5: 851e129b0d03c52477df36873dc663b1
      size: 118541577
    - path: data/processed/train_y_processed.pt
      hash: md5
      md5: 486b3dfaf9d8ae44140c445b449ab2a3
      size: 303177
    - path: data/processed/valid_x_processed.pt
      hash: md5
      md5: d0cd99039a2faa398d6cb5d5214d09bf
      size: 13171977
    - path: data/processed/valid_y_processed.pt
      hash: md5
      md5: 606b246fc6aa77b668afd2553c3ccd76
      size: 34377
    - path: src/stages/train.py
      hash: md5
      md5: 037b6ec9380224e0ebca22a5d042f755
      size: 4784
    params:
      params.yaml:
        base:
          project: digit_recognisation
          raw_data_dir: data/raw/
          processed_data_dir: data/processed/
          random_seed: 13
        train:
          cudnn_enabled: false
          model_path: models/models.pth
          optimizer_path: models/optimizer.pth
          data:
            batch_size_train: 64
            batch_size_validation: 100
            shuffle: true
          struct:
            layer_1: 25
            layer_2: 25
            outputs: 10
          learning_rate: 0.005
          momentum: 0.5
          n_epochs: 10
          log_interval: 10
    outs:
    - path: models/model.pth
      hash: md5
      md5: 9829ded2a01a48571d94a1de66a4b506
      size: 89851
    - path: models/optimizer.pth
      hash: md5
      md5: f1d5b7080123d966694b298ad148e544
      size: 89955
